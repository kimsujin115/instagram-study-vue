(function(){"use strict";var e={5544:function(e,a,t){var l=t(9963),n=t(6252);function s(e,a,t,l,s,o){const i=(0,n.up)("Layout");return(0,n.wg)(),(0,n.j4)(i)}function o(e,a,t,l,s,o){return(0,n.wg)(),(0,n.j4)((0,n.LL)(l.layout))}const i={class:"layoutWrap"},r={class:"sideMenu"},u={class:"menuArea"},c=(0,n._)("h1",{class:"logo"},[(0,n._)("i",{class:"fa-brands fa-instagram"})],-1),p=(0,n._)("i",{class:"icon fas fa-house"},null,-1),d=(0,n._)("span",null,"홈",-1),v=(0,n._)("li",null,[(0,n._)("a",{href:"#"},[(0,n._)("i",{class:"icon fas fa-magnifying-glass"}),(0,n._)("span",null,"검색")])],-1),m=(0,n._)("li",null,[(0,n._)("a",{href:"#"},[(0,n._)("i",{class:"icon far fa-paper-plane"}),(0,n._)("span",null,"메세지")])],-1),f=(0,n._)("i",{class:"icon fa-regular fa-heart"},null,-1),g=(0,n._)("span",null,"알림",-1),_=(0,n._)("i",{class:"icon fa-regular fa-square-plus"},null,-1),h=(0,n._)("span",null,"만들기",-1),w=[_,h],y=(0,n._)("div",{class:"profile"},[(0,n._)("img",{src:"http://picsum.photos/100",alt:""})],-1),b=(0,n._)("span",null,"프로필",-1),k={class:"etcArea"},U=(0,n._)("i",{class:"icon fas fa-arrow-right-from-bracket"},null,-1),x=(0,n._)("span",null,"로그아웃",-1),D=[U,x],Z={class:"contentWrap"},C={class:"innerCont"};function L(e,a,t,l,s,o){const _=(0,n.up)("router-link"),h=(0,n.up)("router-view"),U=(0,n.up)("NewWriteModal");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",i,[(0,n._)("div",r,[(0,n._)("div",u,[c,(0,n._)("nav",null,[(0,n._)("ul",null,[(0,n._)("li",null,[(0,n.Wm)(_,{to:"/"},{default:(0,n.w5)((()=>[p,d])),_:1})]),v,m,(0,n._)("li",null,[(0,n.Wm)(_,{to:"/notifications"},{default:(0,n.w5)((()=>[f,g])),_:1})]),(0,n._)("li",null,[(0,n._)("a",{href:"javascript:;",onClick:a[0]||(a[0]=e=>l.showWriteModal=!0)},w)]),(0,n._)("li",null,[(0,n.Wm)(_,{to:"/myfeed"},{default:(0,n.w5)((()=>[y,b])),_:1})])])])]),(0,n._)("div",k,[(0,n._)("button",{class:"logout",onClick:a[1]||(a[1]=(...e)=>l.onLogout&&l.onLogout(...e))},D)])]),(0,n._)("div",Z,[(0,n._)("div",C,[(0,n.Wm)(h)])])]),l.showWriteModal?((0,n.wg)(),(0,n.j4)(U,{key:0,onCloseModal:a[2]||(a[2]=e=>l.showWriteModal=!1)})):(0,n.kq)("",!0)],64)}t(7658);var A=t(2262),H=t(2201),W=t(3907),E=t(4702);const T=(0,W.MT)({state(){return{user:null}},mutations:{SET_USER:(e,a)=>{e.user=a}},plugins:[(0,E.Z)()]});var j=T;const I={class:"newWritePopup"},O={class:"popWrap"},S={class:"popHead"},q=(0,n._)("i",{class:"fa-solid fa-arrow-left"},null,-1),z=[q],M=(0,n._)("h3",null,"새 게시물 만들기",-1),F={class:"popCont"},V={class:"imgArea"},P={key:0,for:"file-image",class:"fileUpload"},$=(0,n._)("i",{class:"fas fa-camera"},null,-1),B={key:1,class:"img"},R=["src"],Y=(0,n._)("i",{class:"fa-solid fa-x"},null,-1),K=[Y],N={class:"writeArea"},G=(0,n._)("div",{class:"user"},[(0,n._)("img",{src:"http://picsum.photos/300",alt:""}),(0,n._)("span",null,"user.id")],-1),J={class:"textBox"},Q=(0,n._)("p",{class:"length"},"0/2000",-1);function X(e,a,t,s,o,i){return(0,n.wg)(),(0,n.iD)("div",I,[(0,n._)("div",{class:"dim",onClick:a[0]||(a[0]=a=>e.$emit("close-modal"))}),(0,n._)("div",O,[(0,n._)("div",S,[(0,n._)("button",{class:"back",onClick:a[1]||(a[1]=a=>e.$emit("close-modal"))},z),M,(0,n._)("button",{class:"btnEnroll",onClick:a[2]||(a[2]=(...e)=>s.onUploadPost&&s.onUploadPost(...e))},"공유하기")]),(0,n._)("div",F,[(0,n._)("div",V,[s.imageFile?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("label",P,[(0,n._)("input",{type:"file",id:"file-image",accept:"image/*",onChange:a[3]||(a[3]=(...e)=>s.onImageUpload&&s.onImageUpload(...e))},null,32),$])),s.imageFile?((0,n.wg)(),(0,n.iD)("div",B,[(0,n._)("img",{src:s.imageFile,alt:""},null,8,R),(0,n._)("button",{class:"btnDel",onClick:a[4]||(a[4]=(...e)=>s.onImageDelete&&s.onImageDelete(...e))},K)])):(0,n.kq)("",!0)]),(0,n._)("div",N,[G,(0,n._)("div",J,[(0,n.wy)((0,n._)("textarea",{placeholder:"문구 입력...","onUpdate:modelValue":a[5]||(a[5]=e=>s.postContent=e)},null,512),[[l.nr,s.postContent]]),Q])])])])])}var ee=t(6154),ae={setup(e,{emit:a}){const t=(0,A.iH)(null),l=(0,A.iH)(null),n=(0,A.iH)(""),s=j.state.user,o=new FormData,i={header:{"content-type":"multipart/form-data"}},r=e=>{const a=e.target.files[0];l.value=a,o.append("file",a);let n=new FileReader;n.onload=e=>{t.value=e.target.result},n.readAsDataURL(a)},u=()=>{t.value=null},c=async()=>{l.value&&n.value?await ee.Z.post("/api/images",o,i).then((e=>{console.log(e.data.message),a("close-modal")})).catch((e=>{console.log("에러메세지 : ",e)})):alert("게시물 이미지와 글을 작성해 주세요.")};return{imageFile:t,saveImgFileUrl:l,postContent:n,currentUser:s,onImageUpload:r,onImageDelete:u,onUploadPost:c}}},te=t(3744);const le=(0,te.Z)(ae,[["render",X]]);var ne=le,se={components:{NewWriteModal:ne},setup(){const e=(0,H.tv)(),a=(0,A.iH)(!1),t=()=>{j.commit("SET_USER",null),e.push("/login"),console.log(j.state.user)};return{router:e,onLogout:t,showWriteModal:a}}};const oe=(0,te.Z)(se,[["render",L]]);var ie=oe;function re(e,a,t,l,s,o){const i=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(i)}var ue={};const ce=(0,te.Z)(ue,[["render",re]]);var pe=ce,de={components:{DefaultLayout:ie,EmptyLayout:pe},setup(){const e=(0,H.yj)(),a=(0,n.Fl)((()=>e.meta.layout));return{layout:a}}};const ve=(0,te.Z)(de,[["render",o]]);var me=ve,fe={components:{Layout:me}};const ge=(0,te.Z)(fe,[["render",s]]);var _e=ge,he=t(3577);const we={class:"registerWrap"},ye={class:"instaIntroArea"},be={class:"box"},ke=(0,n._)("div",{class:"logo"},[(0,n._)("i",{class:"fa-brands fa-instagram"})],-1),Ue=(0,n._)("p",{class:"txt"},[(0,n.Uk)("친구들의 사진과 동영상을"),(0,n._)("br"),(0,n.Uk)(" 보려면 가입하세요.")],-1),xe={class:"fieldSet"},De={key:0,class:"error"},Ze={class:"box"},Ce={class:"text"},Le=(0,n._)("span",null,"계정이 있으신가요?",-1);function Ae(e,a,t,s,o,i){const r=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",we,[(0,n._)("div",ye,[(0,n._)("div",be,[ke,Ue,(0,n._)("div",xe,[(0,n.wy)((0,n._)("input",{type:"text",placeholder:"이메일","onUpdate:modelValue":a[0]||(a[0]=e=>s.email=e)},null,512),[[l.nr,s.email]]),(0,n.wy)((0,n._)("input",{type:"text",placeholder:"성명","onUpdate:modelValue":a[1]||(a[1]=e=>s.username=e)},null,512),[[l.nr,s.username]]),(0,n.wy)((0,n._)("input",{type:"text",placeholder:"사용자 이름(ID)","onUpdate:modelValue":a[2]||(a[2]=e=>s.userid=e)},null,512),[[l.nr,s.userid]]),(0,n.wy)((0,n._)("input",{type:"password",placeholder:"비밀번호","onUpdate:modelValue":a[3]||(a[3]=e=>s.password=e)},null,512),[[l.nr,s.password]]),s.errText?((0,n.wg)(),(0,n.iD)("p",De,(0,he.zw)(s.errText),1)):(0,n.kq)("",!0),(0,n._)("button",{class:(0,he.C_)("btn "+(s.vaildBool?"active":"")),onClick:a[4]||(a[4]=(...e)=>s.onSignUp&&s.onSignUp(...e))},"가입",2)])]),(0,n._)("div",Ze,[(0,n._)("div",Ce,[Le,(0,n.Wm)(r,{to:"/login",class:"btn"},{default:(0,n.w5)((()=>[(0,n.Uk)("로그인")])),_:1})])])])])}var He={setup(){const e=(0,H.tv)(),a=(0,A.iH)(""),t=(0,A.iH)(""),l=(0,A.iH)(""),s=(0,A.iH)(""),o=(0,A.iH)(!1),i=(0,A.iH)(""),r=(0,n.m0)((()=>{const e=/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i,n=/^[가-힣a-zA-Z]{2,20}$/,r=/^[a-zA-Z0-9\s_.]{5,}$/,u=/^[A-Za-z0-9]{6,15}$/;return!e.test(l.value)&&l.value?(i.value="이메일 형식에 맞게 입력해 주세요.",void(o.value=!1)):!n.test(t.value)&&t.value?(i.value="올바른 형식이 아닙니다. 성명은 2자 이상 입력해 주세요.",void(o.value=!1)):!r.test(a.value)&&a.value?(i.value="아이디는 5자 이상 입력해 주세요. 특수문자는 .과 _ 만 사용 가능합니다.",void(o.value=!1)):!u.test(s.value)&&s.value?(i.value="비밀번호는 6자 이상 15자 이하로 입력해 주세요.",void(o.value=!1)):(i.value="",void(l.value&&t.value&&a.value&&s.value&&(o.value=!0)))})),u=async()=>{""!==a.value&&""!=t.value&&""!=l.value&&""!=s.value?await ee.Z.post("/api/users/signUp",{userid:a.value,username:t.value,email:l.value,password:s.value,profile_img:"../assets/images/img_profile.png"}).then((a=>{1==a.data.success?(alert(a.data.message),e.push("/login")):(i.value=a.data.message,o.value=!1)})).catch((e=>{console.log("에러메세지 : ",e)})):i.value="아이디, 이름, 이메일, 비밀번호를 모두 입력해 주세요."};return{userid:a,username:t,email:l,password:s,errText:i,onSignUp:u,vaildBool:o,setVaildCheck:r}}};const We=(0,te.Z)(He,[["render",Ae]]);var Ee=We;const Te={class:"loginWrap"},je={class:"instaIntroArea"},Ie={class:"box"},Oe=(0,n._)("div",{class:"logo"},[(0,n._)("i",{class:"fa-brands fa-instagram"})],-1),Se={class:"fieldSet"},qe={key:0,class:"error"},ze={class:"box"},Me={class:"text"},Fe=(0,n._)("span",null,"계정이 없으신가요?",-1);function Ve(e,a,t,s,o,i){const r=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",Te,[(0,n._)("div",je,[(0,n._)("div",Ie,[Oe,(0,n._)("div",Se,[(0,n.wy)((0,n._)("input",{type:"text",placeholder:"사용자 이름(ID)","onUpdate:modelValue":a[0]||(a[0]=e=>s.userid=e)},null,512),[[l.nr,s.userid]]),(0,n.wy)((0,n._)("input",{type:"password",placeholder:"비밀번호","onUpdate:modelValue":a[1]||(a[1]=e=>s.password=e)},null,512),[[l.nr,s.password]]),s.errText?((0,n.wg)(),(0,n.iD)("p",qe,(0,he.zw)(s.errText),1)):(0,n.kq)("",!0),(0,n._)("button",{class:(0,he.C_)("btn "+(s.vaildBool?"active":"")),onClick:a[2]||(a[2]=(...e)=>s.onLogin&&s.onLogin(...e))},"로그인",2)])]),(0,n._)("div",ze,[(0,n._)("div",Me,[Fe,(0,n.Wm)(r,{to:"/register",class:"btn"},{default:(0,n.w5)((()=>[(0,n.Uk)("가입하기")])),_:1})])])])])}var Pe={setup(){const e=(0,H.tv)(),a=(0,A.iH)(""),t=(0,A.iH)(""),l=(0,A.iH)(""),s=(0,A.iH)(!1),o=(0,n.m0)((()=>{a.value&&t.value?s.value=!0:(l.value="",s.value=!1)})),i=async()=>{a.value&&t.value?await ee.Z.post("/api/users/login",{userid:a.value,password:t.value}).then((t=>{1==t.data.success?(alert(t.data.message),j.commit("SET_USER",a),console.log(j.state.user),e.replace("/")):l.value=t.data.message})).catch((e=>{console.log("에러메세지 : ",e)})):l.value="아이디, 비밀번호를 입력해 주세요."};return{userid:a,password:t,onLogin:i,errText:l,vaildBool:s,setWatch:o}}};const $e=(0,te.Z)(Pe,[["render",Ve]]);var Be=$e;const Re={class:"storyList"},Ye=(0,n._)("button",null,[(0,n._)("div",{class:"img"},[(0,n._)("img",{src:"http://picsum.photos/200",alt:""})]),(0,n._)("span",{class:"user"},"user.instarid")],-1),Ke=[Ye],Ne={class:"feedList"},Ge=(0,n.uE)('<div class="user"><div class="profile active"><img src="http://picsum.photos/100" alt=""></div><span class="name">instar.id</span><span class="date">1일</span></div><div class="feedImg"><img src="http://picsum.photos/600" alt=""></div><div class="utill"><div class="group"><button><i class="far fa-heart"></i></button><button><i class="far fa-comment"></i></button><button><i class="icon far fa-paper-plane"></i></button></div><button><i class="fa-regular fa-bookmark"></i></button></div><p class="like_num">좋아요 111개</p><div class="feedText"><span class="writer">instar.id</span><span class="text">인스타 피드 게시글 내용인스타 피드 게시글 내용인스타 피드 게시글 내용인스타 피드 게시글 내용인스타 피드 게시글 내용인스타 피드 게시글 내용</span><button class="btnMore">...더 보기</button></div>',5),Je=[Ge];function Qe(e,a,t,l,s,o){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("ul",Re,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(10,(e=>(0,n._)("li",{key:e,class:"active"},Ke))),64))]),(0,n._)("ul",Ne,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(5,(e=>(0,n._)("li",{key:e},Je))),64))])],64)}var Xe={};const ea=(0,te.Z)(Xe,[["render",Qe]]);var aa=ea;function ta(e,a,t,l,s,o){return(0,n.wg)(),(0,n.iD)("h3",null,"알림")}var la={};const na=(0,te.Z)(la,[["render",ta]]);var sa=na;function oa(e,a,t,l,s,o){return(0,n.wg)(),(0,n.iD)("h3",null,"내 피드")}var ia={};const ra=(0,te.Z)(ia,[["render",oa]]);var ua=ra;const ca=[{path:"/",name:"home",component:aa,meta:{layout:"DefaultLayout",requireAuth:!0}},{path:"/notifications",name:"notification",component:sa,meta:{layout:"DefaultLayout",requireAuth:!0}},{path:"/myfeed",name:"myfeed",component:ua,meta:{layout:"DefaultLayout",requireAuth:!0}},{path:"/register",name:"register",component:Ee,meta:{layout:"EmptyLayout"}},{path:"/login",name:"login",component:Be,meta:{layout:"EmptyLayout"}}],pa=(0,H.p7)({history:(0,H.PO)(),routes:ca});pa.beforeEach(((e,a,t)=>{const l=j.state.user,n=e.matched.some((e=>e.meta.requireAuth));n&&!l?t("/login"):t()}));var da=pa;const va=(0,l.ri)(_e).use(da).use(da);va.use(da).mount("#app")}},a={};function t(l){var n=a[l];if(void 0!==n)return n.exports;var s=a[l]={exports:{}};return e[l](s,s.exports,t),s.exports}t.m=e,function(){var e=[];t.O=function(a,l,n,s){if(!l){var o=1/0;for(c=0;c<e.length;c++){l=e[c][0],n=e[c][1],s=e[c][2];for(var i=!0,r=0;r<l.length;r++)(!1&s||o>=s)&&Object.keys(t.O).every((function(e){return t.O[e](l[r])}))?l.splice(r--,1):(i=!1,s<o&&(o=s));if(i){e.splice(c--,1);var u=n();void 0!==u&&(a=u)}}return a}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[l,n,s]}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var n,s,o=l[0],i=l[1],r=l[2],u=0;if(o.some((function(a){return 0!==e[a]}))){for(n in i)t.o(i,n)&&(t.m[n]=i[n]);if(r)var c=r(t)}for(a&&a(l);u<o.length;u++)s=o[u],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(c)},l=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[998],(function(){return t(5544)}));l=t.O(l)})();
//# sourceMappingURL=app.215abc88.js.map